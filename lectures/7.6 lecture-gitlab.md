# Course dev

# üöÄ GitLab –Ω–∞ Ubuntu: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞  üêßüíª

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ GitLab?

GitLab ‚Äî —ç—Ç–æ –∫–∞–∫ —à–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π –Ω–æ–∂ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:  
- –•—Ä–∞–Ω–∏–ª–∏—â–µ –∫–æ–¥–∞ (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Git)  
- –¢—Ä–µ–∫–µ—Ä –∑–∞–¥–∞—á –∏ –±–∞–≥–æ–≤  
- –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ Merge Requests  
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–æ–∫ –∏ –¥–µ–ø–ª–æ—è  
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Wiki)  

> GitLab ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≥–∏—Ç, –∞ —Ü–µ–ª—ã–π —Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏!

---

## –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ GitLab?

| –†–µ—Å—É—Ä—Å       | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –º–∏–Ω–∏–º—É–º          |
|--------------|-------------------------------|
| CPU          | 2 —è–¥—Ä–∞ –∏ –±–æ–ª—å—à–µ                |
| RAM          | –û—Ç 8 –ì–ë (–º–∏–Ω–∏–º—É–º 4 –ì–ë –¥–ª—è —Ç–µ—Å—Ç–∞) |
| –î–∏—Å–∫         | SSD, –º–∏–Ω–∏–º—É–º 50 –ì–ë             |
| –ò–Ω—Ç–µ—Ä–Ω–µ—Ç     | –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ          |



---

## –®–∞–≥ 1. –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É –∏ —Å—Ç–∞–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

sudo apt update && sudo apt upgrade -y

sudo apt install -y curl openssh-server ca-certificates tzdata perl postfix



---

## –®–∞–≥ 2. –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitLab

curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | sudo bash



---

## –®–∞–≥ 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º GitLab CE (Community Edition)

sudo apt install gitlab-ce



---

## –®–∞–≥ 4. –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GitLab

- –ü—Ä–∏–¥—É–º–∞–π –ø–∞—Ä–æ–ª—å –¥–ª—è `root` –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
  
- –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥:

sudo nano /etc/gitlab/gitlab.rb



- –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É —Å `external_url` –∏ –∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π –¥–æ–º–µ–Ω –∏–ª–∏ IP, –Ω–∞–ø—Ä–∏–º–µ—Ä:

external_url 'http://gitlab.example.com'



- –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

sudo gitlab-ctl reconfigure



---

## –®–∞–≥ 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—á—Ç—ã (SMTP) ‚Äî —á—Ç–æ–±—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ª–µ—Ç–µ–ª–∏

–í —Ñ–∞–π–ª–µ `/etc/gitlab/gitlab.rb` –¥–æ–±–∞–≤—å –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π:

gitlab_rails['smtp_enable'] = true

gitlab_rails['smtp_address'] = "smtp.example.ru"

gitlab_rails['smtp_port'] = 587

gitlab_rails['smtp_user_name'] = "user@example.ru"

gitlab_rails['smtp_password'] = "your_smtp_password"

gitlab_rails['smtp_domain'] = "example.ru"

gitlab_rails['smtp_authentication'] = "login"

gitlab_rails['smtp_enable_starttls_auto'] = true



–ò —Å–Ω–æ–≤–∞:

sudo gitlab-ctl reconfigure



---

## –®–∞–≥ 6. –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç—ã –≤ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–µ

sudo ufw allow OpenSSH

sudo ufw allow http

sudo ufw allow https


---

## –®–∞–≥ 7. –ó–∞—Ö–æ–¥–∏–º –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–û—Ç–∫—Ä—ã–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä –∏ –≤–≤–æ–¥–∏–º:

http://your-domain-or-ip



–õ–æ–≥–∏–Ω–∏–º—Å—è –ø–æ–¥:

- **Username:** root  
- **Password:** —Ç–≤–æ–π –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å

---

## –®–∞–≥ 8. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å

- –ö–ª–∏–∫–∞–µ–º –Ω–∞ –∏–∫–æ–Ω–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí Settings
  
- –ú–µ–Ω—è–µ–º –∏–º—è –∏ email
  
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º email —á–µ—Ä–µ–∑ –ø–∏—Å—å–º–æ

---

## –®–∞–≥ 9. –ú–µ–Ω—è–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –Ω–∞–¥–æ)

- –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±–∏—Ä–∞–µ–º **Account**
  
- –í–≤–æ–¥–∏–º –Ω–æ–≤–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º

---

## –®–∞–≥ 10. –î–æ–±–∞–≤–ª—è–µ–º SSH-–∫–ª—é—á

–ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∫–ª—é—á:

cat ~/.ssh/id_rsa.pub



–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—ë–º:

ssh-keygen -t rsa -b 4096 -C "your_email@example.com"



–ö–æ–ø–∏—Ä—É–µ–º –∫–ª—é—á:

cat ~/.ssh/id_rsa.pub



–í GitLab:

- **Settings ‚Üí SSH Keys**  
- –í—Å—Ç–∞–≤–ª—è–µ–º –∫–ª—é—á, –¥–∞—ë–º –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–∞–∂–∏–º–∞–µ–º **Add key**

---

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è —Å–≤–æ–π –º–æ—â–Ω—ã–π GitLab-—Å–µ—Ä–≤–µ—Ä, –≥–æ—Ç–æ–≤—ã–π –∫ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–¥–æ–º –∏ –∫–æ–º–∞–Ω–¥–æ–π.

---


---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GitLab](https://docs.gitlab.com/)

---


