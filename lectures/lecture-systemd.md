# systemd
Systemd — это система инициализации и менеджер служб для операционных систем на базе Linux. Он предназначен для управления процессами и службами, упрощая запуск, остановку и мониторинг служб, а также их конфигурацию. Systemd стал стандартной системой инициализации для многих современных дистрибутивов Linux, таких как Fedora, CentOS, Ubuntu и Debian.

Главная команда для работы с systemd — systemctl. Она позволяет (среди прочего) отлеживать состояние системы и управлять системой и службами.

## Основные характеристики Systemd
Параллельный запуск: Systemd способен одновременно запускать несколько служб, что существенно сокращает время загрузки системы по сравнению с классическими системами инициализации.
Управление службами: Он предоставляет команды для управления службами (например, start, stop, restart, status) и позволяет отслеживать их состояние.
Системные юниты: Systemd использует концепцию юнитов, которые представляют собой отдельные объекты (например, службы, таймеры, точки монтирования и др.). Каждый юнит имеет свой конфигурационный файл, который определяет, как он должен вести себя.
Логирование: Systemd включает встроенную систему журналирования — journald, которая собирает и хранит логи системы и служб, что упрощает диагностику и мониторинг.
Зависимости: Он управляет зависимостями между юнитами, позволяя определять, какие службы должны быть запущены или остановлены в определенном порядке.
Таймеры: Вместо традиционных cron-заданий, Systemd предоставляет возможность использовать таймеры для планирования выполнения задач.

## Использование юнитов
Юнитами могут быть, например, службы (.service), точки монтирования (.mount), устройства (.device) или сокеты (.socket).

При работе с systemctl обычно необходимо указывать полное имя юнита с суффиксом, например, sshd.socket. Существует несколько возможных сокращений:

Если суффикс не указан, systemctl предполагает, что это .service. Например, netctl равнозначно netctl.service.
Точки монтирования автоматически преобразуются в юнит .mount. Например, /home равнозначно home.mount.
Аналогично точкам монтрования, имена устройств автоматически преобразуются в юнит .device. Например, /dev/sda2 равнозначно dev-sda2.device.

## Основные команды systemd

• Запуск службы:

`
  systemctl start имя_службы
`

• Остановка службы:

  `
  systemctl stop имя_службы
  `

• Перезапуск службы:

  `
  systemctl restart имя_службы
  `

• Проверка статуса службы:

  `
  systemctl status имя_службы
  `

• Включение службы при загрузке:

  `
  systemctl enable имя_службы
  `

• Отключение службы при загрузке:

  `
  systemctl disable имя_службы
  `

• Просмотр всех активных служб:

  `
  systemctl list-units --type=service
  `

## Структура юнитов

Юниты в systemd представляют собой конфигурационные файлы, которые определяют, как управлять конкретной службой или ресурсом. Они обычно находятся в /etc/systemd/system/ или /lib/systemd/system/. Каждый юнит имеет определенный тип, например:

• service: для управления службами.

• socket: для управления сокетами.

• mount: для управления точками монтирования.

• timer: для управления таймерами.

Пример простого юнита для службы:

```
[Unit]
Description=My Example Service

[Service]
ExecStart=/usr/bin/my_service_executable

[Install]
WantedBy=multi-user.target
```

## Журнал systemd

journalctl — это команда для просмотра логов, собранных journald. Вы можете использовать её для фильтрации логов по времени, уровню важности или конкретным юнитам.

Примеры команд:

• Просмотр всех логов:

  `
  journalctl
  `

• Просмотр логов конкретной службы:

  `
  journalctl -u имя_службы
  `

• Просмотр логов за последний час:

  `
  journalctl --since "1 hour ago"
  `

## Преимущества systemd

• Упрощение администрирования: systemd объединяет управление службами, логирование и мониторинг в одном инструменте.

• Улучшенная производительность: Параллельный запуск служб ускоряет загрузку системы.

• Гибкость и расширяемость: Возможность создания пользовательских юнитов и таймеров позволяет легко адаптировать систему под свои нужды.

## Заключение

systemd — это мощный инструмент для управления службами и процессами в Linux. Он предоставляет множество возможностей для администрирования системы, улучшая производительность и упрощая задачи по управлению. Несмотря на некоторые критические отзывы о его сложности и подходе к дизайну, systemd стал стандартом в большинстве современных дистрибутивов Linux благодаря своим преимуществам и функциональности.

