# Course dev - processes - Sasha

# –ü—Ä–æ—Ü–µ—Å—Å—ã –≤ Linux: –∫–∞–∫ –Ω–µ —Å—Ç–∞—Ç—å –∑–æ–º–±–∏ –∏ –¥–µ—Ä–∂–∞—Ç—å –≤—Å—ë –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º üßü‚Äç‚ôÇÔ∏èüêß

---

## üö¶ –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ—Ü–µ—Å—Å?

**–ü—Ä–æ—Ü–µ—Å—Å** ‚Äî —ç—Ç–æ –∑–∞–ø—É—â–µ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∂–∏–≤—ë—Ç —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é –≤ —Å–∏—Å—Ç–µ–º–µ: –µ—Å—Ç –ø–∞–º—è—Ç—å, –∫—Ä—É—Ç–∏—Ç—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ –∏ –∏–Ω–æ–≥–¥–∞ –≤–µ–¥—ë—Ç —Å–µ–±—è –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ. –£ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –µ—Å—Ç—å —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä ‚Äî **PID** (Process ID).  
> _–õ–∞–π—Ñ—Ö–∞–∫_: –°–∞–º—ã–π –ø–µ—Ä–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤ —Å–∏—Å—Ç–µ–º–µ ‚Äî —ç—Ç–æ init (–æ–Ω –∂–µ systemd), —É –Ω–µ–≥–æ –≤—Å–µ–≥–¥–∞ PID 1. –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –µ–≥–æ –ø–æ—Ç–æ–º–∫–∏.

---

## üîç –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã?

- `ps aux` ‚Äî –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫—Ç–æ –∏—Ö –∑–∞–ø—É—Å—Ç–∏–ª, —Å–∫–æ–ª—å–∫–æ –∂—Ä—É—Ç –ø–∞–º—è—Ç–∏ –∏ CPU, —Å–∫–æ–ª—å–∫–æ –∂–∏–≤—É—Ç –∏ —á—Ç–æ –≤–æ–æ–±—â–µ –¥–µ–ª–∞—é—Ç.
- `ps -ef` ‚Äî —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –≤ –¥—Ä—É–≥–æ–º —Å—Ç–∏–ª–µ.
- `ps -p <PID>` ‚Äî –∏–Ω—Ñ–∞ –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å.
- `ps -u <user>` ‚Äî –ø—Ä–æ—Ü–µ—Å—Å—ã –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- `top` –∏–ª–∏ `htop` ‚Äî –∂–∏–≤–æ–π —Ç–æ–ø—á–∏–∫: –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –º–æ–∂–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–±–∏–≤–∞—Ç—å, –∫–∞–π—Ñ–æ–≤–∞—Ç—å.


---

## üíÄ –ö–∞–∫ —É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å? (–∏ –Ω–µ —Å–µ—Å—Ç—å –∑–∞ —ç—Ç–æ)

- `kill <PID>` ‚Äî –∫—É–ª—å—Ç—É—Ä–Ω–æ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —É–π—Ç–∏.
- `kill -9 <PID>` ‚Äî _SIGKILL_: ¬´–í—Å—ë, —Ö–≤–∞—Ç–∏—Ç, –¥–æ —Å–≤–∏–¥–∞–Ω–∏—è!¬ª (–∂—ë—Å—Ç–∫–æ, –±–µ–∑ —à–∞–Ω—Å–æ–≤).
- `killall <–∏–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞>` ‚Äî –º–∏–Ω—É—Å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å —ç—Ç–∏–º –∏–º–µ–Ω–µ–º.

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ—Ü–µ—Å—Å–∞


1. **–†–æ–∂–¥–µ–Ω–∏–µ** ‚Äî —á–µ—Ä–µ–∑ fork(2) (–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è).
2. **–ì–æ—Ç–æ–≤** ‚Äî –∂–¥—ë—Ç, –∫–æ–≥–¥–∞ –µ–≥–æ –ø—É—Å—Ç—è—Ç –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä.
3. **–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è** ‚Äî –∫—Ä—É—Ç–∏—Ç—Å—è –Ω–∞ CPU.
4. **–û–∂–∏–¥–∞–µ—Ç** ‚Äî –∂–¥—ë—Ç —Ä–µ—Å—É—Ä—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ–¥–ª–µ–Ω–Ω—ã–π –¥–∏—Å–∫ –∏–ª–∏ —Å–µ—Ç—å).
5. **–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** ‚Äî –ø–æ–ª—É—á–∏–ª SIGSTOP, –∑–∞–º–µ—Ä.
6. **–ó–∞–≤–µ—Ä—à—ë–Ω** ‚Äî –≤—Å—ë, –æ—Ç—Ä–∞–±–æ—Ç–∞–ª —Å–≤–æ—ë.
7. **–ó–æ–º–±–∏** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å —É–º–µ—Ä, –Ω–æ –µ–≥–æ –∏–Ω—Ñ–∞ –µ—â—ë —Ç—É—Å–∏—Ç –≤ —Å–∏—Å—Ç–µ–º–µ (—Ä–æ–¥–∏—Ç–µ–ª—å –Ω–µ –∑–∞–±—Ä–∞–ª exit-–∫–æ–¥).

>  "–ß—Ç–æ –º–µ—Ä—Ç–≤–æ, —É–º–µ—Ä–µ—Ç—å –Ω–µ –º–æ–∂–µ—Ç: SIGKILL –¥–ª—è –∑–æ–º–±–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!"

---

## üß¨ –ö–∞–∫ —Ä–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å—ã?

- –í—Å—ë –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å **init** (PID 1).
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ **fork()** ‚Äî –∫–æ–ø–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è.
- –ï—Å–ª–∏ –Ω–∞–¥–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥—Ä—É–≥—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **execve()** –∏ –¥—Ä—É–∑—å—è (execl, execvp –∏ —Ç.–¥.).
- –ü–æ—Å–ª–µ fork() —Ä–µ—Å—É—Ä—Å—ã –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —Å—Ä–∞–∑—É (Copy-On-Write —Ä—É–ª–∏—Ç), —ç–∫–æ–Ω–æ–º–∏–º –ø–∞–º—è—Ç—å.

---

## üò¥ –û–∂–∏–¥–∞–Ω–∏–µ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞

- –ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∑–∞–ª–∏–ø–Ω—É—Ç—å –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ (I/O, —Å–µ—Ç—å, etc).
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å SIGSTOP ‚Äî –æ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è, SIGCONT ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏—Ç.

---

## üßü‚Äç‚ôÇÔ∏è –ó–æ–º–±–∏-–ø—Ä–æ—Ü–µ—Å—Å—ã

- –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è, –Ω–æ –∏–Ω—Ñ–∞ –æ –Ω—ë–º –Ω–µ –∑–∞–±—Ä–∞–Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–º ‚Äî —ç—Ç–æ –∑–æ–º–±–∏.
- –ó–æ–º–±–∏ –Ω–µ –∂—Ä—É—Ç —Ä–µ—Å—É—Ä—Å—ã, –Ω–æ –µ—Å–ª–∏ –∏—Ö —Å—Ç–∞–Ω–µ—Ç –º–Ω–æ–≥–æ ‚Äî –±—É–¥–µ—Ç –ø–ª–æ—Ö–æ.
- –°–ø–æ—Å–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è:
  - –†–æ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å `wait()` –∏–ª–∏ `waitpid()`.
  - –ï—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—è —É–±–∏—Ç—å ‚Äî –∑–æ–º–±–∏ —É—Å—ã–Ω–æ–≤–∏—Ç init –∏ –æ–Ω –∏—Ö –¥–æ–±—å—ë—Ç.

---

## üèÉ‚Äç‚ôÇÔ∏è –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ —Ñ–æ–Ω–µ?

- –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å `&` –≤ –∫–æ–Ω—Ü–µ:
long_running_task &


- –•–æ—á–µ—à—å, —á—Ç–æ–±—ã –Ω–µ —É–º–µ—Ä –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞?  
–ò—Å–ø–æ–ª—å–∑—É–π:
nohup your_command &


- –£–∂–µ –∑–∞–ø—É—Å—Ç–∏–ª, –Ω–æ –ø–µ—Ä–µ–¥—É–º–∞–ª?  
–ù–∞–∂–º–∏ `Ctrl+Z`, –ø–æ—Ç–æ–º:
bg



---

## ü§ù –ü—Ä–æ—Ü–µ—Å—Å—ã –∏ —Å–∏–≥–Ω–∞–ª—ã

- `Ctrl+C` ‚Äî SIGINT, –ø—Ä–æ—Ü–µ—Å—Å—É –≥–æ–≤–æ—Ä—è—Ç: "–ü–æ—Ä–∞ —É—Ö–æ–¥–∏—Ç—å".
- `Ctrl+Z` ‚Äî SIGTSTP, –ø—Ä–æ—Ü–µ—Å—Å—É: "–ü–æ—Å—Ç–æ–π-–∫–∞ –Ω–∞ –ø–∞—É–∑–µ".
- –°–∏–≥–Ω–∞–ª—ã ‚Äî —Å–ø–æ—Å–æ–± –æ–±—â–µ–Ω–∏—è —Å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏: –º–æ–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å, –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å.

---

## üìÇ –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏–Ω—Ñ–∞ –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö?

- –í—Å—ë –ø—Ä–æ –ø—Ä–æ—Ü–µ—Å—Å—ã –ª–µ–∂–∏—Ç –≤ `/proc/<PID>/`
- –ù–∞–ø—Ä–∏–º–µ—Ä, `/proc/1/status` ‚Äî –∏–Ω—Ñ–∞ –ø—Ä–æ init.

---

## üßµ –ü—Ä–æ—Ü–µ—Å—Å—ã vs –¢—Ä–µ–¥—ã

- **–ü—Ä–æ—Ü–µ—Å—Å** ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ–µ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, —Å–≤–æ–∏ —Ä–µ—Å—É—Ä—Å—ã.
- **–¢—Ä–µ–¥ (–ø–æ—Ç–æ–∫)** ‚Äî –¥–µ–ª–∏—Ç –ø–∞–º—è—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ —Ç—Ä–µ–¥–∞–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞, –ª–µ–≥—á–µ –∏ –±—ã—Å—Ç—Ä–µ–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è.
- –£–±–∏–ª –ø—Ä–æ—Ü–µ—Å—Å ‚Äî –≤—Å–µ —Ç—Ä–µ–¥—ã —É–º–µ—Ä–ª–∏. –£–±–∏–ª —Ç—Ä–µ–¥ ‚Äî –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–≥—É—Ç –∂–∏—Ç—å.

---

## üß† Out of Memory Killer

- –ï—Å–ª–∏ –ø–∞–º—è—Ç–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, —è–¥—Ä–æ –≤—ã–∑—ã–≤–∞–µ—Ç OOM Killer ‚Äî –æ–Ω –∏—â–µ—Ç —Å–∞–º–æ–≥–æ ¬´–∂–∏—Ä–Ω–æ–≥–æ¬ª –∏ –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –≤—ã–Ω–æ—Å–∏—Ç –µ–≥–æ.
- –ù–µ —Ö–æ—á–µ—à—å –±—ã—Ç—å –∂–µ—Ä—Ç–≤–æ–π? –°–ª–µ–¥–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏!

---

> **–ò—Ç–æ–≥:**  
> –ü—Ä–æ—Ü–µ—Å—Å—ã ‚Äî —ç—Ç–æ –¥–≤–∏–∂—É—Ö–∞ –≤ Linux. –£–ø—Ä–∞–≤–ª—è–π –∏–º–∏ —Å —É–º–æ–º, –Ω–µ –ø–ª–æ–¥–∏—Å—å –∑–æ–º–±–∏, —Å–ª–µ–¥–∏ –∑–∞ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ –Ω–µ –±–æ–π—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å!  
>  
