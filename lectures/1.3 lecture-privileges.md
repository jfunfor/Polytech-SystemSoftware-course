# Course dev - Privileges 

---

## Что за зверь — Linux и его права?

Linux — это такая многопользовательская операционка, где каждый живёт своей жизнью, но чтобы никто не лазил куда не надо, есть система прав доступа.  
Тут всё по чесноку: у каждого файла есть хозяин (пользователь), своя группа и куча остальных юзеров. И у каждого своя своя порция прав.

---

## Основные права доступа — что можно делать с файлом?

| Право    | Что значит                             | как понять                                      |
|----------|--------------------------------------|--------------------------------------------------|
| **r**    | Чтение — смотреть, что внутри файла  | «Дай почитать, не трогать!»                       |
| **w**    | Запись — менять, удалять файл        | «Я тут главный, могу всё переписать!»            |
| **x**    | Выполнение — запускать как программу | «Пусти меня в бой, я готов к запуску!»           |

---

## Владелец, группа и остальные — кто тут кто?

Каждый файл имеет три категории прав:

- **u (user)** — владелец файла (тот, кто создал или кому назначили)
- **g (group)** — группа пользователей, к которой принадлежит файл
- **o (others)** — все остальные, кто не в группе и не владелец

И каждому из них можно дать разные права. Например:

-rwxr-xr--



- Владелец: rwx (читаем, пишем, запускаем)  
- Группа: r-x (читаем и запускаем, но не пишем)  
- Остальные: r-- (только читаем)

---

## Типы файлов — не всё так просто!

- `-` — обычный файл  
- `d` — директория (папка)  
- `l` — символическая ссылка  
- Есть и другие, но эти — самые частые.

---

## Что права означают для папок?

| Право | Значение для папки                           |
|-------|---------------------------------------------|
| r     | Смотреть, что внутри папки (список файлов)  |
| w     | Создавать, удалять и переименовывать файлы |
| x     | Заходить внутрь папки (cd)                   |

---

## Как посмотреть права?

Команда:


ls -l



Пример:


drwxrwx--- 5 alice staff 4096 May 10 12:00 myfolder

-rw-r--r-- 1 bob staff 1024 May 10 12:00 file.txt



- `d` — папка
  
- `rwxrwx---` — права: владелец и группа могут читать, писать и заходить, остальные — нет.

---

## Пользователи и группы — кто тут есть?

- Каждый юзер имеет уникальный **UID** (идентификатор) и имя.  
- Есть обычные пользователи (ты, я) и системные (для сервисов).  
- Группы — это сборища пользователей с общими правами. Юзер может быть в нескольких группах сразу.

---

## Пароли и безопасность

- Пароли хранятся в зашифрованном виде в `/etc/shadow` — туда обычным смертным не заглянуть!  
- Только **root** (суперпользователь) может менять пароли других без их согласия.

---

## Что такое sudo и почему он круче root?

- `sudo` — команда, которая даёт тебе временные права суперпользователя, чтобы выполнить важную команду без постоянного входа под root.  
- Это как VIP-пропуск: можно делать админские дела, но не гулять по серверу целиком.  
- Настраивается через файл `/etc/sudoers` (редактировать через `visudo`, чтобы не сломать систему).

---

## Как добавить пользователя в sudoers?

1. Открываешь `/etc/sudoers` через `visudo`.
   
2. Добавляешь строчку:


username ALL=(ALL:ALL) ALL



Где `username` — имя пользователя, которому хочешь дать права.

---

## Можно ли ограничить sudo?

Да! Можно разрешить запускать только конкретные команды, например:


username ALL=(ALL:ALL) NOPASSWD:/usr/bin/systemctl restart apache2



---

## Примеры прав доступа

| Права       | Что значит                         |
|-------------|----------------------------------|
| `-rw-------` | Только владелец может читать и писать |
| `-rwxr-xr-x`| Все могут запускать и читать, писать только владелец |
| `-rw-rw-rw-`| Все могут читать и писать (опасно!) |
| `drwxr-xr-x`| Папка, все могут заходить и читать |

---

## Как менять права?

Команда:


chmod [опции] права файл



Пример:


chmod u+rwx,g+rx,o-rwx myfile



- `u` — владелец  
- `g` — группа  
- `o` — остальные  
- `+` — добавить право  
- `-` — убрать право

---



---

## Кратко и по делу

- Linux — многопользовательская система с жёсткой системой прав.  
- У каждого файла есть владелец, группа и остальные, у каждого свои права.  
- Права бывают на чтение (r), запись (w) и запуск (x).  
- `sudo` — твой друг для админских дел без постоянного root-доступа.  
- Не забывай про безопасность — не раздавай права направо и налево!

---
