# Course dev

# Отмена изменений в рабочей директории Git

Git позволяет быстро отменять любые изменения в рабочей директории с помощью простых команд. 

---

## 1. Удаление неотслеживаемых файлов

Если вы добавили новые файлы, которые не хотите сохранять:

**Создаем тестовые файлы**

mkdir one

touch two

**Проверяем статус**

git status



**Вы увидите неотслеживаемые файлы (untracked files):**

Untracked files:
one/

two



**Удалить все неотслеживаемые файлы и директории:**

git clean -fd



- `-f` - принудительное удаление  
- `-d` - удалять также директории

---

## 2. Отмена изменений в отслеживаемых файлах

Если вы изменили файл, но не добавили его в индекс:


echo 'new text' > INFO.md

git status



В статусе будет подсказка:

Changes not staged for commit:
(use "git restore <file>..." to discard changes in working directory)
modified: INFO.md



**Отменить изменения:**

git restore INFO.md



---

## 3. Отмена изменений, подготовленных к коммиту (в индексе)

Если файл уже добавлен в индекс, но вы передумали его коммитить:

echo 'new text' > INFO.md
git add INFO.md
git status



В статусе будет подсказка:

Changes to be committed:
(use "git restore --staged <file>..." to unstage)
modified: INFO.md



**Убрать файл из индекса (оставить изменения в рабочей директории):**

git restore --staged INFO.md



---

## 4. Работа с `git reset`

`git reset` - мощная команда для отмены коммитов и управления областью хранения.

### Основные режимы:

- `--soft` - перемещает HEAD, изменения остаются в индексе и рабочей директории  
- `--mixed` (по умолчанию) - перемещает HEAD, сбрасывает индекс, но не трогает рабочую директорию  
- `--hard` - перемещает HEAD, сбрасывает индекс и рабочую директорию (все изменения удаляются)

### Пример:

git reset --hard HEAD~1 # Откатить последний коммит полностью



---

## 5. Сравнение: `git reset` vs `git revert`

| Команда      | Влияние на историю | Применение                                    |
|--------------|--------------------|-----------------------------------------------|
| `git reset`  | Изменяет           | Полное удаление изменений из истории          |
| `git revert` | Не изменяет        | Создает новый коммит, отменяющий выбранный    |

- **`git reset`** - удаляет коммиты из истории (используйте с осторожностью, особенно в публичных ветках).  
- **`git revert`** - создает новый коммит, отменяющий изменения, сохраняя историю.

---

## Кратко

- Неотслеживаемые файлы:  
git clean -fd


- Изменения в файлах:  
git restore <file>


- Файлы в индексе:  
git restore --staged <file>


- Откат коммитов:  
git reset [--soft|--mixed|--hard]


- Безопасный откат:  
git revert <commit>






  
