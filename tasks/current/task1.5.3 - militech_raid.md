# Тема Устройства хранения. Задание 3. RAID1-массив.

В мегакорпорации Militech срочно внедряют сервер для осуществления ИИ-контроля боевых дронов. Он должен работать бесперебойно и обрабатывать огромное количество данных. Ваше задание — поднять **RAID1-массив**, настроить **swap** под временные данные и убедиться, что файловая система поддерживает большие таблицы **inode** — для хранения характеристик дронов и логов боевых операций.

## Условие задания

_TODO: Аналогично 1.5.1, 1.5.2 стоит вопрос с дисками. Полагаем, что к ВМ подключены `/dev/sde` и `/dev/sdf._

1. Создать RAID1-массив, задействовав `/dev/sde` и `/dev/sdf`. RAID должен быть активен после перезагрузки (настройка `mdadm.conf`).
2. Создайте файловую систему `ext4` на RAID. Установите размер `inode` в **256 байт**.
3. Смонтируйте RAID. Точка монтирования: `/mnt/ai_storage`.
4. Создайте swap-файл:
	- Объем: 1GB;
	- Путь: `/swapfile`;
	- Не забудьте включить swap и прописать в `/etc/fstab`.

## Советы

Ожидаемая структура хранилища:
```
/mnt/ai_storage  → /dev/md0 (RAID1, ext4, inode 256)
/swapfile        → активен, 1GB
```

Для конфигурирования RAID-массивов понадобится утилита `mdadm`:
```
sudo apt update
sudo apt install -y mdadm
```

Обратите внимание, что система не запоминает, какие RAID-массивы нужно создать и какие компоненты в них входят. Эта информация находится в файле `/etc/mdadm/mdadm.conf`. Строки, которые следует добавить в этот файл, можно получить при помощи команды:
```
mdadm --detail --scan --verbose
```

Вывод команды разумно сразу перенаправить в `/etc/mdadm/mdadm.conf`.

## Цели по теме Устройства хранения

| Тема                               | Применение                            |
| ---------------------------------- | ------------------------------------- |
| Разметка и монтирование директорий | Монтирование RAID1-массива            |
| RAID-массивы                       | Создание RAID1-массива                |
| Swap                               | Создание swap-файла и его подключение |
| Inode                              | Конфигурирование размера inode        |

## Автоматическая проверка 

Обратите внимание на то, что будет проверяться автоматически:

1. Корректность создания и работы RAID1-массива.
2. Файловая система массива.
3. Размер inode.
4. Точка монтирования.
5. Активный swap.
6. Корректность `/etc/fstab`.