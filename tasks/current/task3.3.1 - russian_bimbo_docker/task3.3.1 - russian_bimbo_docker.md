# Тема Сеть в Docker. Задание 1. docker-cringe.yml.

Ваша напарница на сегодня — **Альбина "PingQueen" ~~Сексова~~ Лазерова**, бывшая TikTok-инфлюенсерша из Челябинска, ныне — подпольная хакерша. После провала в хайп-рейтинге и бана на сетевом шоу _"Alive Blonde в Зоне Блокчейна"_, она ушла в тень... а точнее — в кабели под Мегабашней «Яндекс-Купол».

Теперь маршруты, пакеты, и ICMP эхо-запросы — новая косметика Альбины. Недавно хакерша получила заказ: подключить скрытую сеть ботнетов через ретро-интерфейсы IPv4, замаскированные под beauty-роутеры в старом районе Найт-Сити.

У неё есть три узла:
- **node-a** — это её личный терминал, покрытый стразами и с голосовым помощником Галя из TikTok.
- **node-b** — старый армейский маршрутизатор, обклеенный стикерами с Мэйби Бэйби, — он перенаправляет трафик через кварталы патрулируемых секторов.
- **node-c** — удалённая точка сбора трафика с нейросетевых камер в районе, где нет даже 6G, только панельная застройка и реклама кибер-пельменей.

**Задача Альбины** — прописать маршруты так, чтобы её запросы с node-a шли через node-b к node-c, незаметно для корпораций. Для этого нужно всё разрулить через `docker-compose` — это уже давно стандарт настройки домашних neural-modded роутеров.

Помогите ей это сделать :)

## Условие задания 

Выполнить задание `task2.4.1 - getting_through` через `docker-compose`. 

1. Используйте образ `netlab-node` (см. задание №2.4.1 или соберите по аналогичному Dockerfile). Все 3 контейнера должны быть описаны в `docker-compose.yml`.
2. Node A:
	- Имеет маршрут в `10.0.2.0/24` через `10.0.1.1`;
	- Имеет дефолтный маршрут через `10.0.1.1`.
3. Node B:
	- Имеет 2 интерфейса, описанных в задании №2.4.1 (используйте `networks`);
	- Имеет включенный IP-форвардинг через `sysctl` (через `command` или `entrypoint`).
4. Node C должен быть доступен по `ping` с Node A.
5. Сети должны быть заданы вручную в `docker-compose.yml` с нужными IP.

## Советы

Используйте `networks` с вручную заданными IP через `ipam`. Для задания маршрутов удобно использовать `command` или кастомные `entrypoint.sh`.

Для проверки правильности выполнения задания убедитесь, что пинг проходит:
```
docker exec -it node-a bash
ping 10.0.2.20
```

Также обратите внимание, что `ip route` должен показать оба маршрута, а в node-b `sysctl net.ipv4.ip_forward` должен быть равен 1.

## Цели по теме Сеть в Docker

| Тема                                               | Применение                                                                    |
| -------------------------------------------------- | ----------------------------------------------------------------------------- |
| Сетевые драйверы                                   | Использование bridge-сетей Docker                                             |
| Взаимодействие нескольких контейнеров в одной сети | Настройка маршрутизация между тремя контейнерами                              |
| docker-compose.yml                                 | Создание и использование `docker-compose.yml` файла, изучение основных команд |

## Автоматическая проверка

Обратите внимание на то, что будет проверяться автоматически:

1. Корректность `docker-compose.yml`.
2. Проверка наличия контейнеров.
3. Проверка маршрутов.
4. Проверка `ping`.
5. Проверка форвардинга на node-b.