# Тема Работа с текстом. Задание 2. Во все jsonжкие.

В инфосети мегаполиса Найт-Сити обнаружены артефакты — _манифесты системных узлов_, использовавшиеся ИИ Icebreaker. Эти файлы — в формате `JSON` и `YAML` — описывают критичные модули. Совет ИИ-безопасности поручил вам извлечь полезные данные из этих файлов для дальнейшего анализа.

## Условие задания

**Примеры исходных файлов**
1. `manifest.json`: 
```
[
  {"id": "core.1", "status": "active", "priority": 10},
  {"id": "net.12", "status": "inactive", "priority": 5},
  {"id": "auth.7", "status": "active", "priority": 8}
]
```

2. `manifest.yaml`:
```
- id: core.1
  status: active
  priority: 10
- id: net.12
  status: inactive
  priority: 5
- id: auth.7
  status: active
  priority: 8
```

**Задача:**
1. Используя любой из файлов (`JSON` или `YAML`), отфильтровать активные узлы, где `"status": "active"`.
2. Отсортировать их по полю `priority` (по убыванию).
3. Вывести результат в шаблонизированном виде:
	- формат `ID | PRIORITY`;
	- формат Markdown (таблица).

**Пример вывода**
1. Стандартный:
```
core.1   | 10
auth.7   | 8
```

2. Markdown:
```
| ID     | PRIORITY |
|--------|----------|
| core.1 | 10       |
| auth.7 | 8        |
```

Сохраните вывод в файлах `result.txt` и `result.md`, разместить которые необходимо в директории с заданием.

## Советы

Для выполнения задания рекомендуется использовать следующие инструменты: `jq`, `yq`, `awk`, `sort`, `column`, `envsubst`, `env`.

Рассмотрите возможность реализации шаблонизацию с `envsubst`. В этом случае можно использовать шаблон-файл, например:
```
{{id}} | {{priority}}
```

И заменить значения через `envsubst`:
```
export id="core.1" priority=10
envsubst < template.txt
```

Указанным способом можно простроить весьма продвинутый шаблонизатор под разный формат вывода.

Дополнительно: Изучите тему 1.10 и оформите решение задания в виде bash-скрипта, который:
- Принимает аргументы:   
    - `--input manifest.json|yaml`;
    - `--md` — вывод в Markdown-таблице.
- Автоматически определяет формат по расширению.
- Поддерживает шаблонизацию через `printf`, `awk`, `envsubst`, `jq`, `yq`.

## Цели по теме Работа с текстом

| Тема                  | Применение                                                                 |
| --------------------- | -------------------------------------------------------------------------- |
| Обработка текста      | Фильтрация .json и .yaml согласно условию задания                          |
| Форматирование вывода | Вывод текста в виде таблицы с выравниванием по колонкам и таблицы Markdown |

## Автоматическая проверка 

Обратите внимание на то, что будет проверяться автоматически:

1. Наличие выходных файлов.
2. Соответствие количества строк выходных файлов ожидаемому.
3. Корректность формата файлов.
4. Правильность сортировки по убыванию.
