# –¢–µ–º–∞ Git. –ó–∞–¥–∞–Ω–∏–µ 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º.

–í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è–º–∏ –∑–∞–¥–∞—á, –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–∏—è–Ω–∏—è –≤–µ—Ç–æ–∫ —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Ä–∞–≤–∏–ª Conventional Commits.

## –£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞–Ω–∏—è

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `~/random_tasks/`.
2. –í –≤–µ—Ç–∫–µ `main` —Å–æ–∑–¥–∞–π—Ç–µ —Ç—Ä–∏ –∫–æ–º–º–∏—Ç–∞:
   - –ö–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å **–æ–¥–∏–Ω —Ñ–∞–π–ª-—Ä–µ—à–µ–Ω–∏–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `task1.sh`, `task2.sh`, `task3.sh`).
3. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É `feature/another_task`:
   - –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª `task4.sh` —Å —Ä–µ—à–µ–Ω–∏–µ–º —á–µ—Ç–≤–µ—Ä—Ç–æ–π –∑–∞–¥–∞—á–∏.
   - –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `task4.sh` –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏—Ö –æ—Ç–¥–µ–ª—å–Ω—ã–º –∫–æ–º–º–∏—Ç–æ–º.
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–∏—è–Ω–∏–µ –≤–µ—Ç–∫–∏ `feature/another_task` –≤ `main`.
5. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É `fix/task1`:
   - –ò—Å–ø—Ä–∞–≤—å—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ 1.
   - –°–ª–µ–π—Ç–µ –≤–µ—Ç–∫—É –≤ `main`.
6. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É `fix/task2`:
   - –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª-—Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ 2.
   - –°–ª–µ–π—Ç–µ –≤–µ—Ç–∫—É –≤ `main`.

## –°–æ–≤–µ—Ç—ã

- –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ—Ç–∫–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
  ```bash
  git checkout -b <branch_name>  # –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–µ—Ç–∫—É
  git merge <branch_name>        # –°–ª–∏—è–Ω–∏–µ –≤–µ—Ç–∫–∏
  ```
- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ git:
    ```
    git rm <filename>              # –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π
    ```
- –í—Å–µ –∫–æ–º–º–∏—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å Conventional Commits. –ü—Ä–∏–º–µ—Ä—ã:
    ```
    feat: add task 1 solution
    fix: correct syntax in task4.sh
    fix: remove task2 solution.
    ```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç—Ä–µ—Ö –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤-—Ä–µ—à–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏ main.
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å–ª–∏—è–Ω–∏—è –≤–µ—Ç–∫–∏ feature/another_task (–Ω–∞–ª–∏—á–∏–µ task4.sh –∏ –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π).
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è task2.sh –≤ main –ø–æ—Å–ª–µ —Å–ª–∏—è–Ω–∏—è fix/task2.
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–º–º–∏—Ç–æ–≤ (–Ω–∞–ª–∏—á–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ feat, fix –∏ –æ–ø–∏—Å–∞–Ω–∏–π).

## –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
#!/bin/bash

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞–Ω–∏—è Git 1

REPO_DIR="$HOME/random_tasks"
ERRORS=0

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
check_repo() {
    if [ ! -d "$REPO_DIR/.git" ]; then
        echo "‚ùå –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –≤ $REPO_DIR"
        exit 1
    fi
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–º–∏—Ç–æ–≤ –≤ main
check_initial_commits() {
    echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∫–æ–º–º–∏—Ç–æ–≤..."
    cd "$REPO_DIR" || exit 1
    
    local commits=$(git log --oneline main | grep -E "feat: add (task1|task2|task3)\.sh" | wc -l)
    if [ "$commits" -ne 3 ]; then
        echo "‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ 3 –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∫–æ–º–º–∏—Ç–æ–≤ –≤ main"
        ((ERRORS++))
    fi
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ task4.sh
check_task4() {
    echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ task4.sh..."
    if [ ! -f "$REPO_DIR/task4.sh" ]; then
        echo "‚ùå –§–∞–π–ª task4.sh –Ω–µ –Ω–∞–π–¥–µ–Ω"
        ((ERRORS++))
    else
        local changes=$(git log --oneline main | grep -E "fix: update task4 script")
        if [ -z "$changes" ]; then
            echo "‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏—è task4.sh –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã"
            ((ERRORS++))
        fi
    fi
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è task2.sh
check_task2_removal() {
    echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è task2.sh..."
    if [ -f "$REPO_DIR/task2.sh" ]; then
        echo "‚ùå –§–∞–π–ª task2.sh –¥–æ —Å–∏—Ö –ø–æ—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
        ((ERRORS++))
    fi
    
    local removal_commit=$(git log --oneline main | grep "fix: remove task2 solution")
    if [ -z "$removal_commit" ]; then
        echo "‚ùå –ö–æ–º–º–∏—Ç —É–¥–∞–ª–µ–Ω–∏—è task2.sh –Ω–µ –Ω–∞–π–¥–µ–Ω"
        ((ERRORS++))
    fi
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–º–º–∏—Ç–æ–≤
check_commit_format() {
    echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–º–º–∏—Ç–æ–≤..."
    git log main --oneline | grep -v -E "(^Merge|^feat:|^fix:)" | while read -r line; do
        if [ -n "$line" ]; then
            echo "‚ùå –ù–∞—Ä—É—à–µ–Ω —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç–∞: $line"
            ((ERRORS++))
        fi
    done
}

# –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
main() {
    check_repo
    check_initial_commits
    check_task4
    check_task2_removal
    check_commit_format

    if [ "$ERRORS" -eq 0 ]; then
        echo "‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!"
    else
        echo "‚ùå –ù–∞–π–¥–µ–Ω–æ –æ—à–∏–±–æ–∫: $ERRORS"
        exit 1
    fi
}

main
```
