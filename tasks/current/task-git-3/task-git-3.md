# –¢–µ–º–∞ Git. –ó–∞–¥–∞–Ω–∏–µ 3. –†–∞–±–æ—Ç–∞ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏.

–í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Å–≤–æ–∏—Ç—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–µ–π: `cherry-pick`, `revert`, –∞ —Ç–∞–∫–∂–µ –Ω–∞—É—á–∏—Ç—å—Å—è —Ä–∞–∑—Ä–µ—à–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–ª–∏—è–Ω–∏—è.

## –£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞–Ω–∏—è

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `~/history_lab/`:
   - –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª `calculator.py` —Å –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π —Å–ª–æ–∂–µ–Ω–∏—è. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º `feat: add sum function`.
   - –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤—ã—á–∏—Ç–∞–Ω–∏—è –≤ —Ç–æ—Ç –∂–µ —Ñ–∞–π–ª. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º `feat: add subtract function`.
   - –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É `hotfix`, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª). –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º `fix: correct sum logic`.

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `revert`**:
   - –í –≤–µ—Ç–∫–µ `main` –æ—Ç–º–µ–Ω–∏—Ç–µ –∫–æ–º–º–∏—Ç —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã—á–∏—Ç–∞–Ω–∏—è (`revert`).

3. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ `cherry-pick`**:
   - –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –∫–æ–º–º–∏—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏–∑ –≤–µ—Ç–∫–∏ `hotfix` –≤ `main` —Å –ø–æ–º–æ—â—å—é `cherry-pick`.

4. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –µ–≥–æ**:
   - –í –≤–µ—Ç–∫–µ `main` –¥–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —É–º–Ω–æ–∂–µ–Ω–∏—è. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º `feat: add multiply`.
   - –í –≤–µ—Ç–∫–µ `hotfix` –¥–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–µ–ª–µ–Ω–∏—è –≤ —Ç–æ—Ç –∂–µ —Ñ–∞–π–ª. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º `feat: add divide`.
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–∏—è–Ω–∏–µ `hotfix` –≤ `main`, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤—Ä—É—á–Ω—É—é –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

## –°–æ–≤–µ—Ç—ã

- –î–ª—è `cherry-pick`:
  ```bash
  git cherry-pick <commit-hash>  # –ü–µ—Ä–µ–Ω–æ—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
  ```
- –î–ª—è `revert`:
    ```
    git revert <commit-hash>       # –û—Ç–º–µ–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–º–º–∏—Ç–∞
    ```
- –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ git status –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
    ```
    git add <file>
    git commit
    ```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–º–º–∏—Ç–∞ revert –≤ –∏—Å—Ç–æ—Ä–∏–∏ main.
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–∞ –∏–∑ hotfix —á–µ—Ä–µ–∑ cherry-pick.
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–ª–∏—è–Ω–∏—è hotfix –≤ main —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º.
4. –ù–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π (sum, subtract, multiply, divide) –≤ –∏—Ç–æ–≥–æ–≤–æ–º calculator.py.

## –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
#!/bin/bash

REPO_DIR="$HOME/history_lab"
ERRORS=0

check_repo() {
    if [ ! -d "$REPO_DIR/.git" ]; then
        echo "‚ùå –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ $REPO_DIR"
        exit 1
    fi
}

check_revert() {
    echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ revert..."
    if ! git -C "$REPO_DIR" log main --oneline | grep -q "revert: feat: add subtract function"; then
        echo "‚ùå –ö–æ–º–º–∏—Ç revert –Ω–µ –Ω–∞–π–¥–µ–Ω"
        ((ERRORS++))
    fi
}

check_cherrypick() {
    echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ cherry-pick..."
    local hotfix_commit=$(git -C "$REPO_DIR" log hotfix --format=%H -n 1)
    if ! git -C "$REPO_DIR" log main --format=%H | grep -q "$hotfix_commit"; then
        echo "‚ùå –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑ hotfix –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ main"
        ((ERRORS++))
    fi
}

check_merge() {
    echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–∏—è–Ω–∏—è..."
    if ! git -C "$REPO_DIR" branch --merged main | grep -q "hotfix"; then
        echo "‚ùå –í–µ—Ç–∫–∞ hotfix –Ω–µ —Å–ª–∏—Ç–∞ –≤ main"
        ((ERRORS++))
    fi

    if [ ! -f "$REPO_DIR/calculator.py" ] || ! grep -q "divide" "$REPO_DIR/calculator.py"; then
        echo "‚ùå –§—É–Ω–∫—Ü–∏—è divide –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
        ((ERRORS++))
    fi
}

main() {
    check_repo
    check_revert
    check_cherrypick
    check_merge

    if [ "$ERRORS" -eq 0 ]; then
        echo "‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!"
    else
        echo "‚ùå –ù–∞–π–¥–µ–Ω–æ –æ—à–∏–±–æ–∫: $ERRORS"
        exit 1
    fi
}

main
```
